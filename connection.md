# インターネットの特徴
- Inter(相互接続された)Net(ネットワーク)
  - 全世界規模のパケット交換網
  - 自立分散型ネットワークシステム(LAN)をルータにより相互接続している．
- 基本プロトコルはTCP/IPv4(IPv6)

# パケット通信方式
- データを分割し，通信パケットにして伝送する．
  - 送信側は，データを通信パケットに分割する．
  - 受信側は，通信パケットからデータを再構成する．
- 通信パケットにはヘッダを付与して伝送する．
- ヘッダは相手の識別番号(Identifier)が設定されている．
  - TCP/IPのIPではIPアドレス．

# ネットワークシステムの階層化
- 上下関係を持つ複数のプロトコルにより構成．
  - 上位層は階層を使って，より高度な通信を行う．
- 階層間インターフェイスの標準化
  - 階層を抽象化する．
    - 階層毎に異なるプロトコルを用いることも可能である．
  - 現実的には，完全な抽象化は困難である．
- OSI参照モデル[7層モデル]との対応
  - TCP/IPは5層で定義されている．
- プロトコルスタック
  - 階層図ではプロトコルが積み重なって見える．
- 階層名とレイヤ
  - 下からレイヤnと呼ばれる．
    - レイヤ3: ネットワーク層
    - レイヤ2: データリンク層
    - レイヤ1: 物理層

# プロトコルとインターフェイス
- プロトコル(Protocol)
  - ノード間で通信を行う為の取り決め
  - 同一階層間のデータ(制御，情報)交換
- インターフェイス(Interface)
  - 上下の階層間の取り決め
  - 上下の階層間のデータ(制御，情報)交換

# 通信の分類(コネクションの型)
- コネクション(指向)型プロトコル
  - 通信する前に，論理的な通信路(仮想回線，Virtual Circuit)を設定する．
  - 通信品質，透過性，順序性が保証される．
  - TCP，電話

- コネクションレス型プロトコル
  - いきなり送信する．
  - 通信品質は保証されない(最大限努力型通信，ベストエフォート)
  - UDP，IP，イーサネット，電信，電報，郵便

# 応用層(Application Layer)
- 応用プロセス(Application Process)間で送受信されるデータに関した通信機能を制御する．
  - OSI参照モデルではさらに3層に分かれる．
- プロトコル例
  - HTTP
  - FTP
  - SMTP
  - POP3
  - IMAP4
  - telnet
  - DNS
  - NFS

# トランスポート層(Transport Layer)
- 透過的に，終端ノード間での効率の良いデータ転送を行う．
- 誤り制御，順序制御，フロー制御
- TCP(信頼性のあるコネクション型プロトコル)
- UDP(信頼性のないコネクションレス型プロトコル)

# ネットワーク層(Network Layer)
- 経路選択と中継制御を行う．
- IP(信頼性のないコネクションレス型プロトコル)

# データリンク層(Datalink Layer)
- 隣接するノード間でのデータ転送制御．
  - 同一LAN内のノード間の通信．
- 物理層と一体になって規定されることが多い．
  - イーサネットの制御(ソフトウェア)部分．
  - PPP(Point 2 Point Protocol)

# 物理層(Physical Layer)
- 電気的，物理的な信号の制御．
- イーサネットのケーブルやトポロジの規格．
- 具体例
  - イーサネットの物理(ハードウェア)部分．
  - 電話回線(アナログ，ISDN，ADSL)

# ネットワーク層 IPv4(Internet Protocol)
- ネットワーク層のプロトコル．
  - ルータ(ゲートウェイ)によりLAN間に接続する．
- 主な機能は経路選択と中継制御．
  - PCでも経路選択テーブルが必要である．

- コネクションレス型
  - ベストエフォートなので，破棄されることもある．
- アドレス(ホストを識別するユニークな番号)は32bit=8bit * 4=>127.0.0.1
  - 割り当て可能なアドレスは枯渇している．

# IPv4アドレス
- ホストを識別する番号
  - 32bitのユニーク(重複しない)な番号
  - インターネット内に同じIPv4アドレスを設定したホストが2台以上存在できない．
- IPv4アドレスの表記
  - 32bitを1オクテット単位に10進数で表記する．
  - 区切りは.(コロン)を使用する．
    - 172.0.0.1(localhost)
    - 1.1.1.1(Cloud Flare DNS)
    - 172.217.26.4(www.google.com)

# IPv4アドレスのビット構成
- ネットワーク部(上位ビット)
  - ネットワーク(LAN)に割り当てる．
- ホスト部(下位ビット)
  - ネットワーク(LAN)内の各ホスト(ノード)に割り当てる．
- ネットワークの規模(LAN内のホスト数)により，ネットワーク部とホスト部のビット配分を調整する．
  - アドレスのネットワーク部によりグループ(LAN)を区別する．
  - グループ化することでアドレスを集約し，経路情報を節約する．
- 割り当て可能なビット数は2^(ホスト部のビット数) - 2
  - ネットワークのビット数=32-ホスト部のビット数
  - ルータ(ゲートウェイ)もホストとして数える．
  - ネットワークアドレス(ホストが0)，ブロードキャストアドレス(ホストが255)のぶん引かれる．
